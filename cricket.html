<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .bat {
      height: 40px;
      width: 80px;
      margin: 10px;
      border: 1.5rex solid;
      border-radius: 5px;
      border-left-color: red;
      border-top-color: yellow;
      border-right-color: green;
      border-bottom-color: blue;
      font-size: 15px;
      font-weight: 700;
      color: rgb(11, 8, 1);
    }
    body{
      margin-top: 10%;
    margin-left: 25%;
      
    }
  </style>
</head>

<body>
  <h1>Cricket game</h1>


  <button class="bat" onclick="
    let vv = 'User Click Bat';
   let ComputerCreat = computermsg();
  let  resultmassage = resultmsg('bat', ComputerCreat);
    showresult('Bat', ComputerCreat, resultmassage);
    ">Bat</button>


  <button class="bat" onclick="
       
    ComputerCreat = computermsg();
    resultmassage = resultmsg('ball', ComputerCreat)
    showresult('ball', ComputerCreat, resultmassage);

   ">ball</button>


  <button class="bat" onclick="
    
    ComputerCreat = computermsg();
    resultmassage = resultmsg('stump', ComputerCreat)
   showresult('stump', ComputerCreat, resultmassage);
">stump</button>

<button class="bat" onclick="localStorage.clear()
 resetScore()
">Raster</button>

<h3 id="user" style="color: red;"></h3>
<h3 id="computer" style="color:orange;"></h3>
<h3 id="resul" style="color: green;"></h3>
<h2 id="scor" style="color: blue;"></h2>


</body>
<script>

let scorStr = localStorage.getItem('score');
let score;
resetScore(scorStr); 

function resetScore(scorStr){
score= scorStr ? JSON.parse(scorStr) : {
       win : 0,
       lost : 0,
       taie : 0,
};


score.displayScore = function(){
  return `win : ${score.win} lost: ${score.lost} taie: ${score.taie}`;
}; 
showresult()
};

  function computermsg() {

    let randomnumber = Math.random() * 3;

    if (randomnumber > 0 && randomnumber <= 1) {
      return 'bat';

    } else if (randomnumber > 1 && randomnumber <= 2) {

      return 'ball'

    } else {
      return 'stump'

    }

  }

  function resultmsg(uesrchoies, computerChoies) {
    if (uesrchoies === 'bat') {
      if (computerChoies === 'bat') {
         score.taie = score.taie +1;
        return 'Its a taie';
       
      } else if (computerChoies === 'ball') {
        score.win = score.win +1;
        return 'User won';

      } else if (computerChoies === 'stump') {
        score.lost = score.lost +1;
        return 'Computer has won';
      }

    } else if (uesrchoies === 'ball') {
      if (computerChoies === 'ball') {
         score.taie = score.taie +1;
        return 'Its a taie'

      } else if (computerChoies === 'bat') {
        score.lost = score.lost +1;
        return 'Computer has won'

      } else if (computerChoies === 'stump') {
        score.win = score.win +1;
        return 'User won'
      }
    } else {
      if (computerChoies === 'stump') {
         score.taie = score.taie +1;
        return 'Its a taie'

      } else if (computerChoies === 'bat') {
        score.win = score.win +1;
        return 'User won'

      } else {
        score.lost = score.lost +1;
        return 'Computer has won'
      }
    }
  };
 
  function showresult(vv, ComputerCreat, resultmassage){ 
    localStorage.setItem('score', JSON.stringify(score))

document.querySelector('#scor').innerHTML= score.displayScore() ;

document.querySelector('#user').innerHTML= vv !== undefined ?`User Click : ${vv}` : 'User Click :- ';

document.querySelector('#computer').innerHTML= ComputerCreat !==undefined ? `computer click : ${ComputerCreat} ` : `computer click :-`;

document.querySelector('#resul').innerHTML= resultmassage !== undefined ? `result : ${ resultmassage} ` : 'result :-'

//     alert(` User Click : ${vv}
//  computer click : ${ComputerCreat} 
// result : ${ resultmassage} 
// win : ${score.win} lost: ${score.lost} taie: ${score.taie}`);

  }

</script>

</html>